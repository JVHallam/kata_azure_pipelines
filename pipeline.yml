pool:
  name : linux

parameters:
- name : 'siteCodes;
  type : object 
  default : [ 'zz01', 'zz04', 'je03' ]

stages:
${{ each siteCode in parameters.siteCodes }}
- stage: stage_${{ siteCode }}
  displayName: Echo a the site code ${{ siteCode }}
  jobs:
  - job: echo
    steps:
    - checkout : none
    - task : Bash@3
      inputs : 
        targetType : "inline"
        script : |
            echo "Site Code : ${{ siteCode }}"
